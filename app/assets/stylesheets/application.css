/*
 * This is a manifest file that'll be compiled into application.css.
 *
 * With Propshaft, assets are served efficiently without preprocessing steps. You can still include
 * application-wide styles in this file, but keep in mind that CSS precedence will follow the standard
 * cascading order, meaning styles declared later in the document or manifest will override earlier ones,
 * depending on specificity.
 *
 * Consider organizing styles into separate files for maintainability.
 */

@font-face {
  font-family: 'HitMePunk';
  src: url('hit-me-punk.ttf');
  font-weight: normal;
  font-style: normal;
}

@font-face {
  font-family: 'CrashTestDummy';
  src: url('crash-test-dummy.ttf');
  font-weight: normal;
  font-style: normal;
}

@font-face {
  font-family: 'Typewriter';
  src: url('JMH-Typewriter-Black.ttf'),
       url('JMH-Typewriter-Black.otf');
  font-weight: 700;
  font-style: normal;
}

@font-face {
  font-family: 'Typewriter';
  src: url('JMH-Typewriter-Bold.ttf'),
       url('JMH-Typewriter-Bold.otf');
  font-weight: 600;
  font-style: normal;
}

@font-face {
  font-family: 'Typewriter';
  src: url('JMH-Typewriter.ttf'),
       url('JMH-Typewriter.otf');
  font-weight: 500;
  font-style: normal;
}

@font-face {
  font-family: 'Typewriter';
  src: url('JMH-Typewriter-Thin.ttf'),
       url('JMH-Typewriter-Thin.otf');
  font-weight: 400;
  font-style: normal;
}

body {
    background-color: black;
    font-family: 'Typewriter', serif;
}

.flash {
    padding: 1em;
    margin: 1em 0;
    border-radius: 4px;
    font-family: 'Typewriter', serif;
    font-weight: 500;
    text-align: center;
}

.flash.notice {
    background-color: #d4edda;
    border: 2px solid #28a745;
    color: #155724;
}

.flash.alert {
    background-color: #f8d7da;
    border: 2px solid #dc3545;
    color: #721c24;
}

main {
    background-color: #e4daca;
    max-width: 720px;
    margin: 0 auto;
    padding: 2em;
}

a.header {
    text-align: center;
    color: black;
    text-decoration: none;
}

a.article__back-link {
    font-family: 'HitMePunk', serif;
    font-weight: 500;
    text-decoration: none;
    color: black;
    font-size: 3em;
    text-align: center;
    margin: 0 auto;
    display: block;
}

div.masthead {
  font-family: 'HitMePunk', serif;
  font-size: 8em;
}

.subtitle {
    font-family: 'CrashTestDummy', serif;
    font-size: 3em;
}

.article__title {
    text-align: center;
    font-family: 'Typewriter', serif;
    font-weight: 700;
    font-size: 2em;
    margin-bottom: 0px;
}

.article__byline {
    text-align: center;
    font-family: 'Typewriter', serif;
    font-weight: 500;
    font-size: 1em;
}

.article__byline-date {
    font-family: 'Typewriter', serif;
    font-weight: 400;
    font-size: 1em;
}

.article__content {
    font-family: 'Typewriter', serif;
    font-weight: 500;
    /* font-family: serif; */
    /* line-height: 1em; */
    margin-top: 20px;
    margin-bottom: 40px;
}

.article__content img {
    display: block;
    margin: 2em auto;
    max-width: 600px;
    border: solid 2px #0000001a;
    border-radius: 20px;
}


@media (max-width: 768px) {
    body {
        padding: 0 10px;
    }

    div.masthead {
        font-size: 4em;
    }

    .subtitle {
        font-size: 1.5em;
    }

    .article__content img {
        max-width: 100%;
    }
}

content.hp a {
    font-family: 'Typewriter', serif;
    font-weight: 700;
    text-decoration: none;
    color: black;
}


.hp__headline {
    width: 100%;
    display: flex;
    flex-direction: column;
    border-bottom: 1px solid #0000001a;
    text-align: center;
}

.hp__headline h1 {
    font-family: 'Typewriter', serif;
    font-weight: 700;
    font-size: 1.8em;
    margin-top: 1em;
    margin-bottom: 0;
    text-decoration: none;
    color: black;
}

.hp__headline p {
    max-width: 500px;
    font-weight: 600;
    font-size: 1.2em;
    margin: 0 auto;
    margin-bottom: 10px;
}


.hp__headline__thumbnail {
    width: 100%;
    max-height: 500px;
    object-fit: cover;
    object-position: top;
    border: solid 2px #0000001a;
    border-radius: 10px;
    margin-bottom: 10px;
}

.hp__subheadline {
    display: grid;
    grid-template-columns: 250px auto;
    gap: 1em;
    padding: 1em 0;
    border-bottom: 1px solid #0000001a;
}

.hp__subheadline__thumbnail {
    width: 100%;
    max-height: 250px;
    object-fit: cover;
    object-position: top;
    border: solid 2px #0000001a;
    border-radius: 10px;
    align-self: center;
    margin: auto 0;
}

@media (max-width: 768px) {

    main {
        box-sizing: border-box;
        padding: 1em;
    }

    .hp__headline p {
        font-weight: 600;
        font-size: 1.1em;
    }

    .hp__subheadline {
        display: flex;
        align-items: center;
        gap: 1em;
    }

    .hp__subheadline h2 {
        margin-top: 0;
        font-size: 1em;
        font-weight: 600;
    }

    .hp__subheadline p {
        margin: 0;
        font-weight: 400;
        font-weight: 500;
        font-size: .8em;
    }

    .hp__subheadline__thumbnail {
        width: 100px;
    }
}

.album-title {
  font-family: 'Typewriter', serif;
  font-weight: 700;
  font-size: 2em;
  margin-top: 0;
  margin-bottom: 1em;
  text-align: center;
}

.ed-note {
    background-color: lightgray;
    font-size: 1em;
    padding: 2em;
    border-radius: 20px;
    margin-bottom: 2em;
    border: solid darkgray 2px;
}

.album-score {
  float: left;
  background-color: #000000;
  padding: 1em 1.5em;
  margin-right: 1.5em;
  margin-bottom: 1em;
  border: solid 2px #0000001a;
  border-radius: 10px;
  text-align: center;
  color: #d4c4a4;
}

.album-score-inner {
  display: flex;
  align-items: baseline;
  gap: 0.25em;
  font-family: 'Typewriter', serif;
  justify-content: center;
}

.album-score__value {
  font-size: 3em;
  font-weight: 700;
  line-height: 1;
}

.album-score__out-of {
  font-size: 1.5em;
  font-weight: 600;
  color: #666;
}

.album-score__descriptor {
  font-size: 1em;
  font-weight: 600;
  margin-top: 0.5em;
  display: block;
}

#main-nav {
  text-align: center;
  margin-bottom: 2em;
  padding-top: 1em;
}

.user-form-container, .article-form-container {
  max-width: 500px;
  margin: 0 auto;
  font-family: 'Typewriter', serif;
}

.user-form-container h1, .article-form-container h1 {
  font-family: 'Typewriter', serif;
  font-weight: 700;
  font-size: 2em;
  margin-bottom: 0.5em;
}

.user-form-container h2, .article-form-container h2 {
  font-family: 'Typewriter', serif;
  font-weight: 500;
  font-size: 1.2em;
  margin-bottom: 2em;
  color: #333;
}

#user-form > div, #article-form > div {
  margin-bottom: 1.5em;
}

#user-form label, #article-form label {
  display: block;
  font-family: 'Typewriter', serif;
  font-weight: 600;
  font-size: 1.1em;
  margin-bottom: 0.5em;
  color: #000;
}

#user-form input[type="text"],
#user-form input[type="email"],
#user-form input[type="password"],
#article-form input[type="text"],
#article-form input[type="email"],
#article-form input[type="password"],
#article-form textarea {
  width: 100%;
  padding: 0.75em;
  font-family: 'Typewriter', serif;
  font-size: 1em;
  font-weight: 500;
  border: 2px solid #0000001a;
  border-radius: 10px;
  background-color: #f5f0e6;
  box-sizing: border-box;
}

a.admin-link {
  display: block;
  text-align: center;
  width: 80%;
  margin: 1em auto;
}

#user-form input[type="text"]:focus,
#user-form input[type="email"]:focus,
#user-form input[type="password"]:focus,
#article-form input[type="text"]:focus,
#article-form input[type="email"]:focus,
#article-form input[type="password"]:focus,
#article-form textarea:focus {
  outline: none;
  border-color: #000;
}

#user-form input[type="submit"], button, #main-nav > a, .welcome, .admin-link, #article-form input[type="submit"] {
  width: 100%;
  padding: 1em;
  font-family: 'Typewriter', serif;
  font-size: 1.2em;
  font-weight: 700;
  background-color: #000;
  color: #e4daca;
  text-decoration: none;
  border: 2px solid #000;
  border-radius: 10px;
  cursor: pointer;
  margin-top: 1em;
}

#user-form input[type="submit"]:hover, button:hover, #article-form input[type="submit"]:hover {
  background-color: #e4daca;
  color: #000;
  border-color: #000;
}

button a {
  text-decoration: none;
  color: inherit;
}

table {
  width: 100%;
}

#user-form .error-messages, #article-form .error-messages {
  background-color: #ff000020;
  border: 2px solid #ff0000;
  border-radius: 10px;
  padding: 1em;
  margin-bottom: 1.5em;
}

.admin-status {
  width: 300px;
  margin: 0 auto;
  font-family: 'Typewriter', serif;
  font-weight: 600;
  font-size: 1.1em;
  color: #000;
  background-color: #e4daca;
  border-radius: 10px;
  text-align: center;
}

#main-nav {
  display: flex;
  justify-content: flex-end;
  gap: 1em;
}

#main-nav * {
  border: solid 1px black;
  border-radius: 5px;
}

.publish-button {
  padding: 0.2em;
  font-size: .8em;
  margin-top: none;
}

/* Print Edition Styles */
@media print {
  @page {
    size: letter; /* 8.5" x 11" */
    margin: 0.75in;
  }

  body {
    background-color: white;
    color: black;
  }

  main {
    background-color: white;
    max-width: 100%;
    margin: 0;
    padding: 0;
  }

  .article__title {
    page-break-before: always;
    page-break-after: avoid;
    margin-top: 0;
    font-size: 1.5em;
  }

  .article__title:first-of-type {
    page-break-before: auto;
  }

  .article__byline {
    page-break-after: avoid;
    font-size: 0.9em;
    margin-bottom: 1em;
  }

  .article__content {
    font-size: 10pt;
    line-height: 1.2;
    orphans: 3;
    widows: 3;
    page-break-after: always;
  }

  .article__content:last-of-type {
    page-break-after: auto;
  }

  .article__content p {
    page-break-inside: avoid;
  }

  /* Image wrapper to prevent page breaks */
  .article__content img {
    display: block;
    page-break-inside: avoid !important;
    page-break-before: auto;
    page-break-after: avoid;
    break-inside: avoid !important; /* Modern CSS */
    max-width: 100%;
    max-height: 3in; /* Smaller to ensure it fits on one page */
    margin: 0.5em auto;
    border: 1px solid #000;
    border-radius: 0;
    position: relative; /* Force layout context */
  }

  /* Ensure surrounding content doesn't break around images */
  .article__content img + * {
    page-break-before: avoid;
  }

  .article__content * + img {
    page-break-after: avoid;
  }

  /* Utility class: force page break before image */
  .page-break-before {
    page-break-before: always !important;
    break-before: page !important;
    display: block !important;
  }

  /* Utility class: prevent page break inside element */
  .no-page-break {
    page-break-inside: avoid !important;
    break-inside: avoid !important;
    display: inline-block !important;
    width: 100% !important;
  }

  .article__content ol,
  .article__content ul {
    page-break-inside: avoid;
  }

  .album-score {
    float: left;
    page-break-inside: avoid;
    margin-right: 1em;
    margin-bottom: 0.5em;
    background-color: white;
    border: 2px solid black;
    padding: 0.5em 1em;
    color: black;
  }

  .ed-note {
    page-break-inside: avoid;
    background-color: #f0f0f0;
    border: 2px solid #000;
    padding: 1em;
  }

  /* Hide web-only elements */
  #main-nav,
  a.article__back-link,
  button,
  .hp__headline,
  .hp__subheadline,
  .no-print {
    display: none;
  }

  /* Ensure links are visible when printed */
  a {
    color: black;
    text-decoration: underline;
  }
}

/* Screen styles for print preview */
.print-edition {
  background-color: white;
  color: black;
}

.print-edition main {
  background-color: white;
  max-width: 8in;
  max-height: 10.5in;
  margin: 1in auto
}

table td, th {
  min-height: 2em;
  height: 2em;
  padding: 0.5em;
  border-bottom: 1px solid #0000005e;
}
table td * {
  margin: auto 0;
}

#article-form .field input[type="text"] {
  height: 4em;
}

#article_content {
  height: 80vh;
}

#article_blurb {
  height: 6em;
}